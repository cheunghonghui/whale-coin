import{f as v,h as s}from"./api-B2IVDk6a.js";import{E as g}from"./index-Bg3u_l3A.js";import{m as C,Z as w,d as x,a as c,ah as p,p as u,q as d,U as e,O as n,S as m,R as k,u as f}from"./vue-DRvwLzXx.js";import"./base-BDaasHXh.js";import"./index-kI_rcZ0B.js";import"./crypto-BjADBdty.js";const R={key:0},P=C({__name:"Apply",setup(A){document.title="鲸币申请";let o=w([]);x(async()=>{let a=await v();o.push(...a)});const t=c(),_=c(),h=a=>{t.value=a},b=async()=>{let a="确定要申请该鲸币申请-"+t.value.repo+"吗？";if(confirm(a)==!0&&(console.log("激活"),(await s({action:"apply",id:t.value.id})).code==200)){let l=o.indexOf(t.value);l>-1&&o.splice(l,1)}},y=async()=>{let a="确定要取消该鲸币申请-"+t.value.repo+"吗？";if(confirm(a)==!0&&(console.log("取消"),(await s({action:"cancel",id:t.value.id})).code==200)){let l=o.indexOf(t.value);l>-1&&o.splice(l,1)}};return(a,i)=>{const l=p("el-button"),r=p("el-table-column");return u(),d("div",null,[t.value?(u(),d("div",R,[e(l,{type:"primary",onClick:b},{default:n(()=>[m("申请")]),_:1}),e(l,{type:"primary",onClick:y},{default:n(()=>[m("取消")]),_:1})])):k("",!0),e(f(g),{ref_key:"singleTableRef",ref:_,data:f(o),stripe:"","highlight-current-row":"",style:{width:"100%"},onCurrentChange:h},{default:n(()=>[e(r,{prop:"repo",label:"仓库",width:"180"}),e(r,{prop:"role",label:"角色"}),e(r,{prop:"title",label:"title"}),e(r,{prop:"url",label:"url"}),e(r,{prop:"content",label:"内容"}),e(r,{prop:"record_time",label:"产生时间"})]),_:1},8,["data"])])}}});export{P as default};
