import{f as b,h as s}from"./api-Xp8SCp5f.js";import{E as y}from"./index-aVDWSHrQ.js";import{m as C,Z as R,d as w,a as c,ah as m,p as u,q as d,U as o,O as i,S as p,R as x,u as f,F as k}from"./vue-DRvwLzXx.js";import"./base-BDaasHXh.js";import"./index-kI_rcZ0B.js";import"./crypto-BjADBdty.js";const T={key:0},I=C({__name:"Registers",setup(E){document.title="注册列表";let n=R([]);w(async()=>{let t=await b();n.push(...t)});const e=c(),_=c(),h=t=>{e.value=t},g=async()=>{let t="确定要激活用户"+e.value.name+"吗？";if(confirm(t)==!0&&(console.log("激活"),(await s({action:"activate",id:e.value.id})).code==200)){let a=n.indexOf(e.value);a>-1&&n.splice(a,1)}},v=async()=>{let t="确定要删除用户"+e.value.name+"吗？";if(confirm(t)==!0&&(console.log("删除"),(await s({action:"delete",id:e.value.id})).code==200)){let a=n.indexOf(e.value);a>-1&&n.splice(a,1)}};return(t,r)=>{const a=m("el-button"),l=m("el-table-column");return u(),d(k,null,[e.value?(u(),d("div",T,[o(a,{type:"primary",onClick:g},{default:i(()=>[p("激活")]),_:1}),o(a,{type:"primary",onClick:v},{default:i(()=>[p("删除")]),_:1})])):x("",!0),o(f(y),{ref_key:"singleTableRef",ref:_,data:f(n),stripe:"","highlight-current-row":"",style:{width:"100%"},onCurrentChange:h},{default:i(()=>[o(l,{prop:"name",label:"Name",width:"180"}),o(l,{prop:"email",label:"Email"}),o(l,{prop:"phone",label:"Phone"}),o(l,{prop:"register_time",label:"Time"})]),_:1},8,["data"])],64)}}});export{I as default};
